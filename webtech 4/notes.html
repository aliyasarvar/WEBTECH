!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PrepTracker â€“ Notes</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="styles.css">
</head>
<body>
<nav class="sidebar" id="sidebar">
  <div class="sidebar-logo">
    <div class="logo-icon">PT</div>
    <span class="logo-text">PrepTracker</span>
  </div>
  <ul class="nav-links">
    <li><a href="index.html" class="nav-item"><span class="nav-icon">â¬¡</span><span>Dashboard</span></a></li>
    <li><a href="skills.html" class="nav-item"><span class="nav-icon">â—ˆ</span><span>Skills</span></a></li>
    <li><a href="goals.html" class="nav-item"><span class="nav-icon">â—Ž</span><span>Daily Goals</span></a></li>
    <li><a href="companies.html" class="nav-item"><span class="nav-icon">â—·</span><span>Companies</span></a></li>
    <li><a href="resume.html" class="nav-item"><span class="nav-icon">â—»</span><span>Resume</span></a></li>
    <li><a href="notes.html" class="nav-item active"><span class="nav-icon">â—ˆ</span><span>Notes</span></a></li>
  </ul>
  <div class="sidebar-footer">
    <div class="user-avatar">AS</div>
    <div class="user-info">
      <span class="user-name">Aryan Singh</span>
      <span class="user-role">B.Tech CSE Â· 2025</span>
    </div>
  </div>
</nav>

<main class="main-content">
  <header class="top-header">
    <div class="header-left">
      <button class="menu-btn" onclick="toggleSidebar()">â˜°</button>
      <div>
        <h1 class="page-title">Prep Notes</h1>
        <p class="page-sub">Your personal knowledge base for placements</p>
      </div>
    </div>
    <div class="header-right">
      <button class="btn-primary" onclick="newNote()">+ New Note</button>
    </div>
  </header>

  <div class="notes-layout">
    <!-- Notes List -->
    <div>
      <div class="notes-sidebar-panel">
        <input type="text" class="form-input" placeholder="ðŸ” Search notes..." id="search-notes" oninput="filterNotes(this.value)">
        
        <!-- Tags -->
        <div style="display:flex;flex-wrap:wrap;gap:6px;margin-top:14px;">
          <span class="g-tag dsa" style="cursor:pointer" onclick="filterByTag('DSA')">DSA</span>
          <span class="g-tag sd" style="cursor:pointer" onclick="filterByTag('System Design')">SD</span>
          <span class="g-tag cs" style="cursor:pointer" onclick="filterByTag('CS')">CS</span>
          <span class="g-tag apt" style="cursor:pointer" onclick="filterByTag('Aptitude')">APT</span>
          <span class="g-tag hr" style="cursor:pointer" onclick="filterByTag('HR')">HR</span>
        </div>

        <ul class="notes-list" id="notes-list"></ul>
      </div>
    </div>

    <!-- Editor -->
    <div class="notes-editor">
      <div style="display:flex;align-items:center;gap:10px;margin-bottom:8px;">
        <select class="form-select" id="note-tag" style="width:auto;font-size:12px;padding:6px 10px">
          <option>DSA</option>
          <option>System Design</option>
          <option>CS Fundamentals</option>
          <option>Aptitude</option>
          <option>HR</option>
          <option>Company Specific</option>
          <option>General</option>
        </select>
        <span id="note-save-status" style="font-size:12px;color:#22c55e;opacity:0">âœ“ Saved</span>
        <div style="margin-left:auto;display:flex;gap:8px">
          <button class="btn-secondary" style="font-size:12px;padding:6px 12px" onclick="deleteCurrentNote()">ðŸ—‘ Delete</button>
          <button class="btn-primary" style="font-size:12px;padding:6px 12px" onclick="saveNote()">Save</button>
        </div>
      </div>
      <input type="text" class="note-title-input" id="note-title" placeholder="Note title...">
      <textarea class="note-body-input" id="note-body" placeholder="Start writing your prep notes here...

Use this space to jot down algorithms, key concepts, interview tips, company-specific notes, and anything that helps you prepare better.

Tips:
- Break down complex topics into smaller points
- Add examples and code snippets
- Mark important sections with capitals
- Review notes the night before an interview" oninput="autoSave()"></textarea>
    </div>
  </div>
</main>

<script src="app.js"></script>
<script>
let notes = JSON.parse(localStorage.getItem('prep-notes') || 'null') || [
  {id:1, title:'Dynamic Programming Patterns', tag:'DSA', body:`## DP Patterns

1. **0/1 Knapsack**
   - Classic: pick or not pick
   - dp[i][w] = max(dp[i-1][w], val[i] + dp[i-1][w-wt[i]])
   
2. **Longest Common Subsequence**
   - dp[i][j] = dp[i-1][j-1] + 1 (if match)
   - else: max(dp[i-1][j], dp[i][j-1])

3. **Matrix Chain Multiplication**
   - Interval DP

4. **Unbounded Knapsack**
   - Coin change, rod cutting

Key Insight: Always think about what changes between subproblems.`, date:'Feb 18, 2026'},
  {id:2, title:'System Design: URL Shortener', tag:'System Design', body:`## URL Shortener Design

### Requirements
- Functional: shorten URL, redirect, analytics
- Non-functional: high availability, low latency

### Estimations
- 100M URLs/day write
- 10:1 read:write ratio
- 1B reads/day

### Core Components
1. API Gateway
2. Application Servers (stateless)
3. Base62 encoding for short codes
4. PostgreSQL for URL mapping
5. Redis for caching hot URLs
6. CDN for global distribution

### DB Schema
\`\`\`
urls: id, short_code, long_url, user_id, created_at, expiry
clicks: id, url_id, timestamp, ip, device
\`\`\``, date:'Feb 16, 2026'},
  {id:3, title:'OS: Process vs Thread', tag:'CS Fundamentals', body:`## Process vs Thread

### Process
- Independent memory space
- Heavier context switch
- IPC via pipes, sockets, shared memory
- Crash doesn't affect others

### Thread
- Shared memory space
- Lightweight context switch
- Communicate via shared memory (careful with race conditions!)
- One thread crash = process crash

### Synchronization
- Mutex: binary lock
- Semaphore: counter-based
- Monitor: high-level sync
- Condition variables

### Deadlock Conditions (Coffman)
1. Mutual Exclusion
2. Hold and Wait
3. No Preemption
4. Circular Wait`, date:'Feb 14, 2026'},
  {id:4, title:'Google Interview Notes', tag:'Company Specific', body:`## Google Interview Prep

### Round Structure
1. Phone Screen (1 DSA)
2. Technical Interview x4
3. Behavioral (Googleyness)

### Focus Areas
- Clean code, explain trade-offs
- Think aloud always
- Edge cases: null, empty, overflow

### Common Topics
- Graph traversals (BFS/DFS)
- Trees (BST, balanced, path problems)
- DP (subsets, intervals, strings)

### LP Stories Ready
- Leadership: Led college project team
- Conflict: Disagreement on architecture
- Challenge: Debugging prod issue at intern`, date:'Feb 12, 2026'},
];

let currentNoteId = notes[0]?.id;

function renderNotesList(filtered = notes) {
  const list = document.getElementById('notes-list');
  list.innerHTML = filtered.map(n => `
    <li class="note-list-item ${n.id === currentNoteId ? 'active' : ''}" onclick="openNote(${n.id})">
      <div class="note-list-title">${n.title}</div>
      <div class="note-list-preview" style="display:flex;gap:6px;align-items:center">
        <span class="g-tag ${getTagClass(n.tag)}" style="font-size:9px">${n.tag}</span>
        <span>${n.date}</span>
      </div>
    </li>
  `).join('');
}

function getTagClass(tag) {
  const map = {'DSA':'dsa','System Design':'sd','CS Fundamentals':'cs','Aptitude':'apt','HR':'hr','Company Specific':'hr','General':'cs'};
  return map[tag] || 'cs';
}

function openNote(id) {
  const n = notes.find(x => x.id === id);
  if (!n) return;
  currentNoteId = id;
  document.getElementById('note-title').value = n.title;
  document.getElementById('note-body').value = n.body;
  document.getElementById('note-tag').value = n.tag;
  renderNotesList();
}

function saveNote() {
  const n = notes.find(x => x.id === currentNoteId);
  if (!n) return;
  n.title = document.getElementById('note-title').value;
  n.body = document.getElementById('note-body').value;
  n.tag = document.getElementById('note-tag').value;
  n.date = new Date().toLocaleDateString('en-US', {month:'short',day:'numeric',year:'numeric'});
  localStorage.setItem('prep-notes', JSON.stringify(notes));
  renderNotesList();
  showSaved();
}

let saveTimer;
function autoSave() {
  clearTimeout(saveTimer);
  saveTimer = setTimeout(saveNote, 1500);
}

function showSaved() {
  const s = document.getElementById('note-save-status');
  s.style.opacity = '1';
  setTimeout(() => s.style.opacity = '0', 2000);
}

function newNote() {
  const id = Date.now();
  notes.unshift({ id, title: 'New Note', tag: 'General', body: '', date: new Date().toLocaleDateString('en-US', {month:'short',day:'numeric',year:'numeric'}) });
  currentNoteId = id;
  renderNotesList();
  openNote(id);
  document.getElementById('note-title').focus();
  document.getElementById('note-title').select();
}

function deleteCurrentNote() {
  if (!confirm('Delete this note?')) return;
  notes = notes.filter(n => n.id !== currentNoteId);
  localStorage.setItem('prep-notes', JSON.stringify(notes));
  if (notes.length) openNote(notes[0].id);
  else { document.getElementById('note-title').value = ''; document.getElementById('note-body').value = ''; }
  renderNotesList();
}

function filterNotes(q) {
  const filtered = notes.filter(n => n.title.toLowerCase().includes(q.toLowerCase()) || n.body.toLowerCase().includes(q.toLowerCase()));
  renderNotesList(filtered);
}

function filterByTag(tag) {
  const filtered = notes.filter(n => n.tag === tag);
  renderNotesList(filtered);
}

renderNotesList();
if (notes.length) openNote(notes[0].id);
</script>
</body>
</html>